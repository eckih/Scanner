<div class="container mt-4">
  <h1>SQLite Database Viewer</h1>
  
  <% @tables.each do |table| %>
    <div class="card mb-4">
      <div class="card-header">
        <h3><%= table.titleize %></h3>
      </div>
      <div class="card-body">
        <% if @table_data[table].is_a?(Hash) && @table_data[table][:error] %>
          <div class="alert alert-danger">
            Error: <%= @table_data[table][:error] %>
          </div>
        <% else %>
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <% if @table_data[table].any? %>
                  <tr>
                    <% @table_data[table].first.keys.each do |column| %>
                      <th><%= column %></th>
                    <% end %>
                  </tr>
                <% end %>
              </thead>
              <tbody>
                <% @table_data[table].each do |record| %>
                  <tr>
                    <% record.values.each do |value| %>
                      <td><%= value %></td>
                    <% end %>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
          <small class="text-muted">
            Showing first 10 records of <%= @table_data[table].count %> total records
          </small>
        <% end %>
      </div>
    </div>
  <% end %>
</div> 